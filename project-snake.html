<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <script></script>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <img class="bg-image" src="assets/img/tram_bg.jpg" alt="">
    <img class="bg-overlay" src="assets/img/BG_Rectangles.png" alt="">
    <div class="wrapper">
        <a class="return-top" onclick="topFunction()">
            <img src="assets/icons/return-top-icon-2.png" alt="" style="height: 45px;" class="return-icon">
        </a>
        <!-- Nav bar-->
        <div class="header" style="margin-bottom: 2rem;">
            <a class="header-logo" href="index.html">
                <div class="title">
                    João Freire
                </div>
                <div class="subtitle">
                    Programmer
                    <div class="title-line"></div>
                </div>
            </a>
            <ul class="menu">
                <li>
                    <a class="menu-button" href="projects.html">
                        <div class="content">Portfolio</div>
                    </a>
                </li>
                <li>
                    <a class="menu-button" href="index.html#about">
                        <div class="content">About</div>
                    </a>
                </li>
                <li>
                    <a class="menu-button" href="https://github.com/jsfoao" target="_blank">
                        <div class="image">
                            <img src="assets/icons/github_logo.png" style="height: 100%;" alt="">
                        </div>
                    </a>
                </li>
                <li>
                    <a class="menu-button" href="https://www.linkedin.com/in/joao-saraivafreire/" target="_blank">
                        <div class="image">
                            <img src="assets/icons/linkedin_logo.png" style="height: 100%;" alt="">
                        </div>
                    </a>
                </li>
                <li>
                    <a class="menu-button" href="https://jwow.itch.io/" target="_blank">
                        <div class="image">
                            <img src="assets/icons/itch-icon.png" style="height: 100%;" alt="">
                        </div>
                    </a>
                </li>
            </ul>
        </div>

        <!-- CONTENT-->
        <a href="projects.html" class="back-button">
            <img src="assets/icons/back-arrow-icon.png" alt="" class="arrow-icon-back">
            Back
        </a>
        <div class="project-title-card">
            <div class="gradient-overlay" style="opacity: 0.8"></div>
            <img class="project-title-img" src="assets/img/projects/snake/Snakes.png" alt="" style="bottom: -20%; width: 120%; left: -25px">
            <div class="project-title-wrapper">
                <div class="project-title">
                    A* Snake
                </div>
                <div class="category-nav-wrapper">
                    <ul class="category-list">
                        <li><div class="card-category">Pathfinding</div></li>
                        <li><div class="card-category">AI</div></li>
                        <li><div class="card-category">Unity</div></li>
                    </ul>
                    <ul class="project-menu">
                        <li>
                            <a class="menu-button" href="">
                                <div style="display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; min-width: 115px; transform: translateX(3px) translateY(3px);">
                                    <div class="image">
                                        <img src="assets/icons/arrow-down.png" style="height:16px; transform: translateY(3px) translateX(-2px);" alt="">
                                    </div>
                                    <div class="content" style="font-size: medium;">
                                        Latest Build
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="menu-button" href="https://github.com/jsfoao/2DSnake" target="_blank">
                                <div class="image">
                                    <img src="assets/icons/github_logo.png" style="height: 120%;" alt="">
                                </div>
                            </a>
                        </li>
                    </ul>   
                </div>
            </div>
            
        </div>

        <div class="project-category-wrapper">
            <div class="flex-column" style="gap: 2rem; margin-top: rem; margin-bottom: 2rem;">
                <img src="assets/img/projects/snake/SnakeDemo.gif" alt="" style="width: 50%;">
                <div style="max-width: 250px;">
                    <div class="category-title-big">
                        Info
                    </div>
                    <p class="content-paragraph">
                        <span class="content-paragraph" style="font-family: Poppins SemiBold;">
                            Role:</span> 
                            Programmer
                    </p>
                    <p class="content-paragraph">
                        <span class="content-paragraph" style="font-family: Poppins SemiBold;">
                            Category:</span> 
                            AI
                    </p>
                    <p class="content-paragraph">
                        <span class="content-paragraph" style="font-family: Poppins SemiBold;">
                            Engine:</span> 
                            Unity
                    </p>
                    <p class="content-paragraph">
                        <span class="content-paragraph" style="font-family: Poppins SemiBold;">
                            Team Size:</span> 
                            Soolo
                    </p>
                    <p class="content-paragraph">
                        <span class="content-paragraph" style="font-family: Poppins SemiBold;">
                            Build Date:</span> 
                            20/20/2020
                    </p>
                </div>
            </div>
            <div>
                <div class="category-title-big">
                    About
                </div>
                <p class="content-paragraph">
                    Implementation of Snake's AI with A* pathfinding and weighed pickups. Simulation can be run with or without user having a controlled snake.
                </p>
                <div class="category-title-small">
                    Highlights
                </div>
                <div class="flex-column">
                    <ul class="bullet-point">
                        <li class="bullet-li">
                            Working and efficient A* pathfinding algorithm with weighed pickups.
                        </li>
                        <li class="bullet-li">
                            Implementation of a linked list suited to the project's needs.
                        </li>
                        <li class="bullet-li">
                            Variables and constraints that are easy to change and tweak for simulation purposes.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="project-category-wrapper">
            <div class="category-title-big">
                List of Features
            </div>
            <table>
                <tr>
                    <th>Feature:</th>
                    <th>Description:</th>
                </tr>
                <tr>
                    <td>Grid Generation</td>
                    <td>Grid map generator with neighbour checking</td>
                </tr>
                <tr>
                    <td>Screen Wrapping</td>
                    <td>Screen wrapping on map's edges</td>
                </tr>
                <tr>
                    <td>Linked List</td>
                    <td>Implementation of linked list used in snakes</td>
                </tr>
                <tr>
                    <td>A* Pathfinding</td>
                    <td>A* pathfinding for snake's AI with weighed pickups</td>
                </tr>
                <tr>
                    <td>Snake Slicing</td>
                    <td>Break snake's linked lists in runtime</td>
                </tr>
            </table>    
        </div>

        <div class="project-category-wrapper">
            <div class="category-title-big">
                Grid Generation
            </div>
            <div class="external-link-wrapper">
                <a class="external-link" href="https://pastebin.com/4txYiHt8" target="_blank">
                    <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                    Map.cs
                </a>
                <a class="external-link" href="https://pastebin.com/Si3jE8xw" target="_blank">
                    <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                    Tile.cs
                </a>
            </div>
            <div class="category-title-small" style="margin-top: 0;">
                Neighbours
            </div>
            <p class="content-paragraph">
                Finding the neighbours of each tile is essential for true grid movement which was my goal for this project. In this case, only 4 positions need
                to be checked around the tile since there's no diagonal movement.
            </p>
            <div class="expandable-button">
                <a style="display: flex; align-items: center; cursor: pointer;" onclick="OnClick(this)">
                    <div class="expandable-title">Code - Neighbours Around Tile</div>
                    <img src="assets/icons/front-arrow-icon.png" alt="" class="expandable-arrow">
                </a>
                <div class="expandable-content" style="height: 0px;">   
                     <div class="code-snippet" style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">    <span style="color: #75715e">// Check all neighbours around singular tile</span>
    <span style="color: #66d9ef">private</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">NeighboursAroundTile</span><span style="color: #f8f8f2">(Tile</span> <span style="color: #f8f8f2">tile)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// Defining positions around tile to check</span>
        <span style="color: #f8f8f2">Vector2Int</span> <span style="color: #f8f8f2">position</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tile.gridPosition;</span>
        
        <span style="color: #75715e">// Four possible neighbour positions around tile</span>
        <span style="color: #f8f8f2">Vector2Int[]</span> <span style="color: #f8f8f2">positions</span> <span style="color: #f8f8f2">=</span> <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">Vector2Int</span><span style="color: #f8f8f2">(position.x</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">position.y),</span> <span style="color: #75715e">// left</span>
            <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">Vector2Int</span><span style="color: #f8f8f2">(position.x</span> <span style="color: #f8f8f2">+</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">position.y),</span> <span style="color: #75715e">// right</span>
            <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">Vector2Int</span><span style="color: #f8f8f2">(position.x,</span> <span style="color: #f8f8f2">position.y</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span> <span style="color: #75715e">// down</span>
            <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">Vector2Int</span><span style="color: #f8f8f2">(position.x,</span> <span style="color: #f8f8f2">position.y</span> <span style="color: #f8f8f2">+</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span>  <span style="color: #75715e">// up</span>
        <span style="color: #f8f8f2">};</span>
 
        <span style="color: #75715e">// Check validity of all positions</span>
        <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f8f8f2">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f8f8f2">&lt;</span> <span style="color: #f8f8f2">positions.Length;</span> <span style="color: #f8f8f2">i++)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(!IsEdgeTile(tile,</span> <span style="color: #f8f8f2">positions[i]))</span>
            <span style="color: #f8f8f2">{</span>
                <span style="color: #f8f8f2">tile.neighbourTiles[i]</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tileGrid[positions[i].x,</span> <span style="color: #f8f8f2">positions[i].y];</span>
            <span style="color: #f8f8f2">}</span>
        <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">}</span>
</pre></div>

                </div>
            </div>
            <div class="category-title-small">
                Screen Wrapping
            </div>
            <p class="content-paragraph">
                Since the movement is already constraining that a snake's next move can only be to a neighbour tile, setting up the neighbours on the edges to be on the opposite edge is enough for the screen wrapping to work.
            </p>
            <div class="flex-column" style="margin-top: 1rem;">
                <img src="assets/img/projects/snake/neighbours.png" alt="" class="img-wrapper">
                <img src="assets/img/projects/snake/ScreenWrapping.gif" alt="" class="img-wrapper">
            </div>
            <div class="expandable-button">
                <a style="display: flex; align-items: center; cursor: pointer;" onclick="OnClick(this)">
                    <div class="expandable-title">Code - Set edge's neighbours</div>
                    <img src="assets/icons/front-arrow-icon.png" alt="" class="expandable-arrow">
                </a>
                <div class="expandable-content" style="height: 0px;">    
                    <div class="code-snippet" style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">    <span style="color: #75715e">// Check if neighbour is valid and assigns it</span>
    <span style="color: #66d9ef">private</span> <span style="color: #66d9ef">bool</span> <span style="color: #a6e22e">SetEdgeTile</span><span style="color: #f8f8f2">(Tile</span> <span style="color: #f8f8f2">tile,</span> <span style="color: #f8f8f2">Vector2Int</span> <span style="color: #f8f8f2">positionToCheck)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// Right edge</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(positionToCheck.x</span> <span style="color: #f8f8f2">&gt;=</span> <span style="color: #f8f8f2">size.x)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #f8f8f2">tile.neighbourTiles[(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Direction.Right]</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tileGrid[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">positionToCheck.y];</span>
            <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #75715e">// Left edge</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(positionToCheck.x</span> <span style="color: #f8f8f2">&lt;</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #f8f8f2">tile.neighbourTiles[(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Direction.Left]</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tileGrid[size.x</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">positionToCheck.y];</span>
            <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #75715e">// Up edge</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(positionToCheck.y</span> <span style="color: #f8f8f2">&gt;=</span> <span style="color: #f8f8f2">size.y)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #f8f8f2">tile.neighbourTiles[(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Direction.Up]</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tileGrid[positionToCheck.x,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">];</span>
            <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #75715e">// Down edge</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(positionToCheck.y</span> <span style="color: #f8f8f2">&lt;</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #f8f8f2">tile.neighbourTiles[(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Direction.Down]</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">tileGrid[positionToCheck.x,</span> <span style="color: #f8f8f2">size.y</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">];</span>
            <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
</pre></div>

                </div>
            </div>
        </div>

        <div class="project-category-wrapper">
            <div class="category-title-big">
                A* Pathfinding
            </div>
            <div class="external-link-wrapper">
                <a class="external-link" href="https://pastebin.com/DvhLwndb" target="_blank">
                    <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                    Pathfinding.cs
                </a>
                <a class="external-link" href="https://github.com/jsfoao/2DSnake/blob/main/Assets/Scripts/Snake/AI/AIFinder.cs" target="_blank">
                    <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                    AIFinder.cs
                </a>
            </div>
            <p class="content-paragraph">


            </p>
            <div class="flex-column">
                <div>
                    <div class="category-title-small">
                        Pickups
                    </div>
                    <p class="content-paragraph">
                        There's three types of pickups: Snake's dead body, fruit and a blue fruit. These pickups have different weights
                        that will affect the snake's decisions when deciding on a path. This is done by adding this weight to the cost of the tile where the pickup is placed.
                    </p>
                </div>
                <img src="assets/img/projects/snake/FruitWeights.gif" alt="" class="img-wrapper" style="width: 1000px; max-width: 500px; max-height: 500px;">
            </div>
            <div class="expandable-button">
                <a style="display: flex; align-items: center; cursor: pointer;" onclick="OnClick(this)">
                    <div class="expandable-title">Code - Finding lowest cost object</div>
                    <img src="assets/icons/front-arrow-icon.png" alt="" class="expandable-arrow">
                </a>
                <div class="expandable-content" style="height: 0px;">    
                    <div class="code-snippet" style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">    <span style="color: #75715e">// Object with the lowest cost of distance + weight</span>
    <span style="color: #66d9ef">public</span> <span style="color: #f8f8f2">GridObject</span> <span style="color: #a6e22e">LowestCostObject</span><span style="color: #f8f8f2">()</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(_spawner.spawnedObjects</span> <span style="color: #f8f8f2">==</span> <span style="color: #66d9ef">null</span> <span style="color: #f8f8f2">||</span> <span style="color: #f8f8f2">_spawner.spawnedObjects.Count</span> <span style="color: #f8f8f2">==</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span> <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">null</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">}</span>

        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f8f8f2">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">max</span> <span style="color: #f8f8f2">=</span> <span style="color: #ae81ff">99999</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f8f8f2">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f8f8f2">&lt;</span> <span style="color: #f8f8f2">_spawner.spawnedObjects.Count;</span> <span style="color: #f8f8f2">i++)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(_spawner.spawnedObjects[i]</span> <span style="color: #f8f8f2">==</span> <span style="color: #66d9ef">null</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span> <span style="color: #66d9ef">continue</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">}</span>
            
            <span style="color: #f8f8f2">GridObject</span> <span style="color: #f8f8f2">gridObject</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">_spawner.spawnedObjects[i];</span>
            
            <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">distanceCost</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">_pathfinding.TileDistanceCost(gridObject.currentTile,</span> <span style="color: #f8f8f2">aiController.headBody.gridObject.currentTile);</span>
            <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">totalCost</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">distanceCost</span> <span style="color: #f8f8f2">+</span> <span style="color: #f8f8f2">gridObject.GetWeight();</span>
            <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(totalCost</span> <span style="color: #f8f8f2">&lt;</span> <span style="color: #f8f8f2">max)</span>
            <span style="color: #f8f8f2">{</span>
                <span style="color: #f8f8f2">max</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">totalCost;</span>
                <span style="color: #f8f8f2">index</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">i;</span>
            <span style="color: #f8f8f2">}</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">_spawner.spawnedObjects[index];</span>
    <span style="color: #f8f8f2">}</span>
</pre></div>

                </div>
            </div>
        </div>

        <div class="project-category-wrapper">
            <div class="category-title-big">
                Linked List
            </div>
            <div class="external-link-wrapper">
                <a class="external-link" href="https://github.com/jsfoao/2DSnake/blob/main/Assets/Scripts/LinkedList.cs" target="_blank">
                    <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                    LinkedList.cs
                </a>
            </div>
            <div class="category-title-small">
                Movement
            </div>
            <a class="external-link" href="https://github.com/jsfoao/2DSnake/blob/main/Assets/Scripts/Snake/AI/AIController.cs" target="_blank">
                <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                AIController.cs
            </a>
            <div class="category-title-small">
                Snake Slicing
            </div>
            <a class="external-link" href="https://github.com/jsfoao/2DSnake/blob/main/Assets/Scripts/Snake/Entity/Snake.cs" target="_blank">
                <img src="assets/icons/external_link.png" alt="" class="arrow-icon-back">
                Snake.cs
            </a>
        </div>

        <div class="project-category-wrapper">
            <div class="category-title-big">
                Issues & Possible fixes
            </div>
        </div>

        <div class="rights-reserved">
            © 2022 João Freire. All rights reserved. 
        </div>
    </div>
    <script>
        function OnClick(element){
            var content = element.parentElement.getElementsByClassName('expandable-content')[0];
            var arrow = element.parentElement.getElementsByClassName("expandable-arrow")[0];
            var snippet = content.getElementsByClassName("code-snippet")[0];
            if (content.style.height === "0px"){
                console.log(parseInt(snippet.clientHeight, 10));
                content.style.height = parseInt(snippet.clientHeight + 20) + "px";
                arrow.style.transform = "translateX(10px) rotate(-90deg)"
            }
            else{
                content.style.height = "0px";
                arrow.style.transform = "translateX(10px) rotate(90deg)"
            }
        }

        //Get the button:
        var button = document.getElementsByClassName("return-top")[0];
        var icon = document.getElementsByClassName("return-icon")[0];
            
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {scrollFunction()};
            
        function scrollFunction() {
            if (document.documentElement.scrollTop > 200) {
                button.style.bottom = "20px";
            } else {
                button.style.bottom = "-50px";
            }
        }
        
        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }
    </script>
</body>
</html>